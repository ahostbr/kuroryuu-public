/**
 * Kuroryuu Dialog Animations - Genmu Spirit Design
 * The Black Dragon of Illusionary Fog
 *
 * Fog entrance, golden dragon frames, and mystical particle effects
 */

/* ========================================
   FOG ENTRANCE ANIMATION
   ======================================== */

@keyframes fogMaterialize {
  0% {
    opacity: 0;
    transform: scale(0.92) translateY(8px);
    filter: blur(12px);
    box-shadow: 0 0 0 rgba(201, 162, 39, 0);
  }
  40% {
    opacity: 0.6;
    filter: blur(6px);
  }
  70% {
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
    box-shadow:
      0 0 60px rgba(201, 162, 39, 0.3),
      0 0 100px rgba(201, 162, 39, 0.1);
  }
}

@keyframes fogDismaterialize {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.95) translateY(4px);
    filter: blur(8px);
  }
}

/* ========================================
   GOLDEN BORDER PULSE (Dragon Breath)
   ======================================== */

@keyframes dragonBreath {
  0%, 100% {
    box-shadow:
      0 0 20px rgba(201, 162, 39, 0.2),
      0 0 40px rgba(201, 162, 39, 0.1),
      inset 0 0 20px rgba(201, 162, 39, 0.05);
  }
  50% {
    box-shadow:
      0 0 30px rgba(201, 162, 39, 0.4),
      0 0 60px rgba(201, 162, 39, 0.2),
      inset 0 0 30px rgba(201, 162, 39, 0.1);
  }
}

/* ========================================
   MIST OVERLAY (Drifting Particles)
   ======================================== */

@keyframes mistDrift {
  0%, 100% {
    transform: translateX(0) translateY(0);
    opacity: 0.3;
  }
  33% {
    transform: translateX(15px) translateY(-8px);
    opacity: 0.5;
  }
  66% {
    transform: translateX(-10px) translateY(5px);
    opacity: 0.4;
  }
}

@keyframes mistDriftSlow {
  0%, 100% {
    transform: translateX(0) translateY(0) rotate(0deg);
    opacity: 0.2;
  }
  50% {
    transform: translateX(-20px) translateY(10px) rotate(5deg);
    opacity: 0.35;
  }
}

/* ========================================
   DESTRUCTIVE PULSE (Crimson)
   ======================================== */

@keyframes crimsonPulse {
  0%, 100% {
    box-shadow:
      0 0 20px rgba(139, 30, 30, 0.3),
      0 0 40px rgba(139, 30, 30, 0.1);
  }
  50% {
    box-shadow:
      0 0 40px rgba(139, 30, 30, 0.5),
      0 0 80px rgba(139, 30, 30, 0.2);
  }
}

@keyframes crimsonBreath {
  0%, 100% {
    border-color: rgba(139, 30, 30, 0.6);
    box-shadow:
      0 0 20px rgba(139, 30, 30, 0.3),
      inset 0 0 15px rgba(139, 30, 30, 0.1);
  }
  50% {
    border-color: rgba(139, 30, 30, 0.9);
    box-shadow:
      0 0 35px rgba(139, 30, 30, 0.5),
      inset 0 0 25px rgba(139, 30, 30, 0.15);
  }
}

/* ========================================
   BACKDROP ANIMATIONS
   ======================================== */

@keyframes backdropFadeIn {
  0% {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
  100% {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
}

@keyframes backdropFadeOut {
  0% {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
  100% {
    opacity: 0;
    backdrop-filter: blur(0px);
  }
}

/* ========================================
   SUCCESS GLOW
   ======================================== */

@keyframes emeraldPulse {
  0%, 100% {
    box-shadow:
      0 0 20px rgba(74, 106, 58, 0.3),
      0 0 40px rgba(74, 106, 58, 0.1);
  }
  50% {
    box-shadow:
      0 0 35px rgba(74, 106, 58, 0.5),
      0 0 70px rgba(74, 106, 58, 0.2);
  }
}

/* ========================================
   UTILITY CLASSES
   ======================================== */

.kuroryuu-dialog-enter {
  animation: fogMaterialize 400ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.kuroryuu-dialog-exit {
  animation: fogDismaterialize 250ms ease-out forwards;
}

.kuroryuu-dialog-backdrop {
  animation: backdropFadeIn 300ms ease-out forwards;
}

.kuroryuu-dialog-backdrop-exit {
  animation: backdropFadeOut 200ms ease-out forwards;
}

.kuroryuu-dialog-pulse {
  animation: dragonBreath 3s ease-in-out infinite;
}

.kuroryuu-dialog-pulse-destructive {
  animation: crimsonBreath 2s ease-in-out infinite;
}

.kuroryuu-dialog-pulse-success {
  animation: emeraldPulse 2.5s ease-in-out infinite;
}

/* Mist particles container */
.kuroryuu-mist-container {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

.kuroryuu-mist-particle {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(
    circle at center,
    rgba(232, 213, 181, 0.15) 0%,
    rgba(232, 213, 181, 0.05) 50%,
    transparent 70%
  );
  animation: mistDrift 8s ease-in-out infinite;
}

.kuroryuu-mist-particle:nth-child(2) {
  animation: mistDriftSlow 12s ease-in-out infinite;
  animation-delay: -4s;
}

.kuroryuu-mist-particle:nth-child(3) {
  animation: mistDrift 10s ease-in-out infinite reverse;
  animation-delay: -2s;
}

/* ========================================
   REDUCED MOTION SUPPORT
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .kuroryuu-dialog-enter,
  .kuroryuu-dialog-exit,
  .kuroryuu-dialog-backdrop,
  .kuroryuu-dialog-backdrop-exit,
  .kuroryuu-dialog-pulse,
  .kuroryuu-dialog-pulse-destructive,
  .kuroryuu-dialog-pulse-success,
  .kuroryuu-mist-particle {
    animation: none !important;
  }

  .kuroryuu-dialog-enter {
    opacity: 1;
    transform: none;
    filter: none;
  }

  .kuroryuu-dialog-backdrop {
    opacity: 1;
    backdrop-filter: blur(8px);
  }
}
