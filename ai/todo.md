# Tasks

## Backlog
- [ ] T133: Extract hardcoded credentials from setup-github-oauth.js @@agent
- [ ] T134: Implement rate limiting for API endpoints @@agent
- [ ] T135: Optimize file size validation to prevent memory issues @@agent

## Active
- [x] T126: Create docker-compose.yml, Dockerfiles for gateway/mcp_core/pty_daemon/web, nginx.conf, and .dockerignore files  [worklog: pending] (created: 2026-01-28 20:33) (completed: 2026-01-30 08:15) @agent
- [x] T122: Debug why tray companion is not launching via button or on startup. Fix: Added 'integrations' to user scope in settings-service.ts resolveScope().  [worklog: pending] (created: 2026-01-28 12:02) (completed: 2026-01-30 08:20) @agent
- [x] T117: Line 6: Change "desktop automation via WinAppDriver" to "desktop automation via PowerShell Win32 APIs". Updated 4 docs: product.md, KURORYUU_LAWS_INDEX.md, KURORYUU_WORKER.md, structure.md.  [worklog: pending] (created: 2026-01-28 11:21) (completed: 2026-01-30 08:20) @agent
- [x] T111: The Terminal tab shows "No PTY Session Active" - Fixed PTY session ID handoff: Gateway now includes pty_session_id in done event, Desktop extracts it and calls setPtySessionId().  [worklog: pending] (created: 2026-01-28 10:35) (completed: 2026-01-30 08:25) @agent

## Delayed

## Done
- [x] T132: Identify and fix all TypeScript errors in the Kuroryuu project, focusing on apps/desktop, apps/web, and other TypeScript apps. Fix errors one by one systematically.  [worklog: pending] (created: 2026-01-30 01:03) (completed: 2026-01-30 01:09) @agent
- [x] T131: 1. Remove duplicate MODEL_SHORTHANDS from config.py 2. Import from apps.gateway.cli.model_shorthands 3. Implement interactive provider selection menu 4. Implement interactive model selection menu 5...  [worklog: pending] (created: 2026-01-30 00:04) (completed: 2026-01-30 00:06) @agent
- [x] T130: Transform Quizmaster info panel into cinematic "secret weapon" hero section with: pulsing glow rings, floating particles, shimmer effects, animated gradient title, 3-stage flow diagram, prompt vari...  [worklog: pending] (created: 2026-01-29 23:49) (completed: 2026-01-29 23:51) @agent
- [x] T129: 1. Fix provider descriptions (remove Max/Pro reference from cliproxyapi) 2. Add model shorthands (opus, sonnet, codex, etc.) 3. Update /model command to support all providers 4. Add /auth command f...  [worklog: pending] (created: 2026-01-29 23:25) (completed: 2026-01-29 23:28) @agent
- [x] T128: Completely remove the 8-step Setup Wizard so the app always goes directly to the Welcome Screen. This involves modifying 7 files and deleting 14 files (the entire onboarding/ directory plus store a...  [worklog: pending] (created: 2026-01-29 20:52) (completed: 2026-01-29 21:00) @agent
- [x] T127: Add platform detection to auto-disable Windows-only tools on Linux while keeping Windows behavior unchanged  [worklog: pending] (created: 2026-01-28 20:33) (completed: 2026-01-28 20:44) @agent
- [x] T125: Update rag-interactive-gate.ps1, rag-interactive-toggle.ps1, and take_screenshot.ps1 to use portable path resolution.  [worklog: pending] (created: 2026-01-28 18:23) (completed: 2026-01-28 18:27) @agent
- [x] T124: Create setup script that sets KURORYUU_PROJECT_ROOT env var, generates .mcp.json from template, and creates venv if missing.  [worklog: pending] (created: 2026-01-28 18:23) (completed: 2026-01-28 18:25) @agent
- [x] T123: Create the MCP configuration template with {{KURORYUU_ROOT}} and {{KURORYUU_VENV}} placeholders. Remove SOTS_MCP_CORE section entirely.  [worklog: pending] (created: 2026-01-28 18:23) (completed: 2026-01-28 18:25) @agent
- [x] T121: Add file size filtering to git:status handler in git-service.ts to prevent files over 99MB from appearing in the GitHub commit panel. This avoids accidental commits of large files that would be rej...  [worklog: pending] (created: 2026-01-28 11:56) (completed: 2026-01-28 11:57) @agent
- [x] T120: Add 5 new feature cards and update 3 outdated descriptions in FeaturesSection.tsx  [worklog: pending] (created: 2026-01-28 11:52) (completed: 2026-01-28 11:54) @agent
- [x] T119: Fix the filtering regression where chat shows "No response received." because stripInputEcho() is too aggressive. Replace with conservative version that has safety guards.  [worklog: pending] (created: 2026-01-28 11:50) (completed: 2026-01-28 11:50) @agent
- [x] T118: Lines 58, 66: Remove references to "WinAppDriver running on port 4723" - now uses PowerShell directly.  [worklog: pending] (created: 2026-01-28 11:21) (completed: 2026-01-28 11:22) @agent
- [x] T116: Update arch-data.json to add 3 missing components (CLIProxyAPI, Ralph, k_pccontrol), fix broken jumpRoute values, update component descriptions, and add new suggested paths.  [worklog: pending] (created: 2026-01-28 11:07) (completed: 2026-01-28 11:07) @agent
- [x] T115: Add function to strip user input echo from PTY response beginning  [worklog: pending] (created: 2026-01-28 11:02) (completed: 2026-01-28 11:03) @agent
- [x] T114: Add filterTerminalOutput call in lmstudio-chat-store.ts SSE delta handler  [worklog: pending] (created: 2026-01-28 11:02) (completed: 2026-01-28 11:06) @agent
- [x] T113: Remove winappdriver bindings from preload/index.ts and main/index.ts, add simple pccontrol bindings  [worklog: pending] (created: 2026-01-28 10:52) (completed: 2026-01-28 10:57) @agent
- [x] T112: Remove WinAppDriver client class and implement all actions via PowerShell/Win32 APIs: click (done), doubleclick, rightclick, type, keypress, launch_app, get_windows  [worklog: pending] (created: 2026-01-28 10:52) (completed: 2026-01-28 10:54) @agent
- [x] T110: The Terminal tab should connect to existing PTY sessions, not auto-spawn new ones. The current implementation tries to spawn 'claude' directly which fails because it's not in PATH. Fix to only show...  [worklog: pending] (created: 2026-01-28 10:29) (completed: 2026-01-28 10:30) @agent
- [x] T109: Update sections/index.ts to export CLIProxyAPISection, remove misleading You're All Set banner from LMStudioSection  [worklog: pending] (created: 2026-01-28 07:57) (completed: 2026-01-28 07:59) @agent
- [x] T108: Add PTY session ID state, k_pty-based message sending, and output polling/streaming logic. Keep existing HTTP path as fallback for non-PTY models. Include localStorage persistence for session recov...  [worklog: pending] (created: 2026-01-28 07:43) (completed: 2026-01-28 07:45) @agent
- [x] T107: Add 'terminal' to sidebarView state type and add Terminal tab button in sidebar toggle. Update the sidebar content section to conditionally render the InsightsTerminalPanel component.  [worklog: pending] (created: 2026-01-28 07:43) (completed: 2026-01-28 07:44) @agent
- [x] T106: Create a slash command skill that maximizes parallelism in Claude's execution. Follow TDD: baseline test first, write skill, verify behavior change.  [worklog: pending] (created: 2026-01-28 07:17) (completed: 2026-01-28 07:20) @agent
- [x] T105: Implement the debugging plan for Claude PTY backend: 1. Restart the Gateway completely to load new code 2. Test end-to-end with OPUS4.5-PTY model 3. Check Gateway logs for PTY session creation 4. A...  [worklog: pending] (created: 2026-01-27 23:31) (completed: 2026-01-28 00:11) @agent
- [x] T104: The claude_cli_pty.py backend fails when conversation_id is None. The code `config.extra.get("conversation_id", default)` returns None when the key exists with None value (default only used when ke...  [worklog: pending] (created: 2026-01-27 22:47) (completed: 2026-01-27 22:47) @agent
- [x] T103: Add missing switch cases for `claude-cli` and `claude-cli-pty` in model-registry.ts checkProviderHealth function, and update checkAllProvidersHealth to include new providers. This fixes the red err...  [worklog: pending] (created: 2026-01-27 22:43) (completed: 2026-01-27 22:43) @agent
- [x] T102: The fileLogger.log('Terminal', 'Component mounted', ...) at line 59 of Terminal.tsx is in the component body, causing it to log on every render instead of just once on mount. Move it to a useEffect...  [worklog: pending] (created: 2026-01-27 21:47) (completed: 2026-01-27 21:47) @agent
- [x] T101: Create apps/gateway/llm/backends/claude_cli_pty.py implementing LLMBackend interface: - stream_chat() routes to PTY manager - Extracts conversation_id from config metadata - Sends only latest user ...  [worklog: pending] (created: 2026-01-27 20:17) (completed: 2026-01-27 20:19) @agent
- [x] T100: Update TerminalGrid.tsx to: 1. Update leader terminal init to UPDATE existing terminals (not just create if empty) 2. Force viewMode: 'terminal' to trigger auto-spawn on session restore 3. Remove r...  [worklog: pending] (created: 2026-01-27 18:36) (completed: 2026-01-27 18:37) @agent
- [x] T099: Update MessageViewer.tsx: - Import inferSourceFromId from model-registry - Replace hardcoded 'Claude' with derived source name - Show model ID alongside source name  [worklog: pending] (created: 2026-01-27 18:12) (completed: 2026-01-27 18:18) @agent
- [x] T098: Update KURORYUU_BOOTSTRAP.md, KURORYUU_LAWS.md, and KURORYUU_LAWS_INDEX.md with current stats (16 MCP tools, 118 actions), new tools (k_pccontrol, k_clawd), and version bump.  [worklog: pending] (created: 2026-01-27 12:45) (completed: 2026-01-27 12:46) @agent
- [x] T097: Update product.md, tech.md, and structure.md to reflect current state: 16 MCP tools (118 actions), 235 React components, Gateway + MCP Core + Desktop + CLI architecture, Ralph leader orchestration,...  [worklog: pending] (created: 2026-01-27 12:39) (completed: 2026-01-27 12:42) @agent
- [x] T096: Update Docs/DEVLOG.md stats sections and README.md with the real numbers discovered: - 431 total tasks - 16 MCP tools with 118 routed actions - 235 React components - 9,030 line CLI with 24 command...  [worklog: pending] (created: 2026-01-27 12:06) (completed: 2026-01-27 12:08) @agent
- [x] T095: Update Ralph prompt files to be aware of k_pccontrol desktop automation capability: 1. ralph_prime.md - Add Step 3.5 capability check 2. ralph_loop.md - Add Desktop Automation section 3. ralph_inte...  [worklog: pending] (created: 2026-01-27 11:24) (completed: 2026-01-27 11:25) @agent
- [x] T094: Modify files: - `apps/desktop/src/preload/index.ts`: Add python namespace with detectEnv, installAppium, verifyAppium, onPipOutput - Wire up IPC handlers in main process  [worklog: pending] (created: 2026-01-27 11:19) (completed: 2026-01-27 11:21) @agent
- [x] T093: Create apps/desktop/src/main/integrations/winappdriver-service.ts with detect, download, start/stop, health check functions and IPC handlers  [worklog: pending] (created: 2026-01-27 11:00) (completed: 2026-01-27 11:03) @agent
- [x] T092: Create Playwright E2E tests to verify the auto-updater UI flow: 1. Shows update available notification 2. Shows download progress 3. Shows update ready with restart button 4. Shows "up to date" mes...  [worklog: pending] (created: 2026-01-27 10:21) (completed: 2026-01-27 10:25) @agent
- [x] T091: The loadSettings function is a stub that never loads. Implement it to fetch all app settings via IPC and update the Zustand store so toggles like "Launch on startup" persist across restarts.  [worklog: pending] (created: 2026-01-27 10:05) (completed: 2026-01-27 10:06) @agent
- [x] T090: Find the old system prompt from git history (~1-2 weeks ago, before cliproxyapi support) and restore it as the LMStudio/Devstral-specific prompt. Add routing logic in _build_system_prompt() to use ...  [worklog: pending] (created: 2026-01-27 10:03) (completed: 2026-01-27 10:08) @agent
- [x] T089: When assistant is open in another view (Code Editor vs Insights), add a button to force-steal the lock and bring the chat to the current view, instead of just showing "Please close it there first".  [worklog: pending] (created: 2026-01-27 09:57) (completed: 2026-01-27 09:57) @agent
- [x] T088: Canvas 2D context can't parse CSS variables like `hsl(var(--card))`. Fix by using getComputedStyle() to resolve the variables before using them in canvas fillStyle/strokeStyle.  [worklog: pending] (created: 2026-01-27 09:50) (completed: 2026-01-27 09:50) @agent
- [x] T087: Add CSS styles to copilot-theme.css for breadcrumb navigation, navigable folder indicators, and sidebar view toggle buttons.  [worklog: pending] (created: 2026-01-27 09:27) (completed: 2026-01-27 09:30) @agent
- [x] T086: Add CSS theme bridges to copilot-theme.css so the Assistant Panel respects global theme settings. Kuroryuu theme should show pure black background with gold accents.  [worklog: pending] (created: 2026-01-27 08:49) (completed: 2026-01-27 08:51) @agent
- [x] T085: Replace the entire getStaticCLIProxyModels() function in model-registry.ts with the exact 61 models from the gateway master list  [worklog: pending] (created: 2026-01-26 19:50) (completed: 2026-01-26 19:51) @agent
- [x] T084: Update apps/desktop/src/renderer/types/domain-config.ts to add optional source?: string field to ModelInfo interface  [worklog: pending] (created: 2026-01-26 19:24) (completed: 2026-01-26 19:25) @agent
- [x] T083: Messages are being cleared after each response instead of accumulating in chat history  [worklog: pending] (created: 2026-01-26 18:44) (completed: 2026-01-26 18:48) @agent
- [x] T082: Add tool_calls field to LLMMessage, update tool_loop.py and lmstudio.py to propagate tool_calls for assistant messages  [worklog: pending] (created: 2026-01-26 18:36) (completed: 2026-01-26 18:37) @agent
- [x] T081: Fix lmstudio.py stream_chat() to include tool_call_id in message conversion for proper tool loop continuation  [worklog: pending] (created: 2026-01-26 18:12) (completed: 2026-01-26 18:13) @agent
- [x] T080: Update streaming parser to handle v2 events: text_delta, tool_start, tool_end, done  [worklog: pending] (created: 2026-01-26 13:36) (completed: 2026-01-26 13:40) @agent
- [x] T079: Modify apps/gateway/llm/backends/lmstudio.py to capture and display HTTP error body from CLIProxyAPI responses. Currently shows generic "HTTP {code} from cliproxyapi" - should show actual error rea...  [worklog: pending] (created: 2026-01-26 12:18) (completed: 2026-01-26 12:18) @agent
- [x] T078: Update server health cards to display server-specific metrics: - MCP Core: Tools (existing) - Gateway: Agents count from /v1/system/stats - PTY Daemon: Sessions count from pty:list - CLIProxyAPI: M...  [worklog: pending] (created: 2026-01-26 12:00) (completed: 2026-01-26 12:02) @agent
- [x] T077: Full system migration from CLIProxyAPI to CLIProxyAPIPlus across Desktop, Tray Companion, Gateway, and CLI. Adds GitHub Copilot and Kiro/CodeWhisperer support.  [worklog: pending] (created: 2026-01-26 00:35) (completed: 2026-01-26 00:37) @agent
- [x] T076: The plan implementation is complete. Need to verify: 1. Test CLIProxyAPI models endpoint returns claude-opus-4-5-20251101 2. Test direct API call with Opus model responds correctly 3. Review gatewa...  [worklog: pending] (created: 2026-01-26 00:30) (completed: 2026-01-26 00:42) @agent
- [x] T075: Update docstring URL, add copilot/kiro model families in apps/gateway/llm/backends/cliproxyapi.py  [worklog: pending] (created: 2026-01-26 00:28) (completed: 2026-01-26 00:33) @agent
- [x] T074: Add native binary mode as alternative to Docker for running CLIProxyAPI. This includes creating the native manager service, IPC handlers, wizard modifications, and settings persistence.  [worklog: pending] (created: 2026-01-26 00:06) (completed: 2026-01-26 00:14) @agent
- [x] T073: Add 'Bearer kuroryuu-local-key' Authorization header to all direct CLIProxyAPI calls in lmstudio-integration.ts (chat completions, fallback, model fetching)  [worklog: pending] (created: 2026-01-25 23:52) (completed: 2026-01-25 23:53) @agent
- [x] T072: The gateway chat_proxy.py only checks for 'cliproxyapi' backend but doesn't handle 'claude'. When domain config has provider 'claude', it falls through to lmstudio. Need to route both 'claude' and ...  [worklog: pending] (created: 2026-01-25 23:46) (completed: 2026-01-25 23:48) @agent
- [x] T071: Convert static ConnectionIndicator to ProviderSelector dropdown. Shows current provider with health status, model, latency. Dropdown lists all providers with health indicators. On selection updates...  [worklog: pending] (created: 2026-01-25 23:28) (completed: 2026-01-25 23:28) @agent
- [x] T070: Fix tray companion issues: speech event channel mismatch, provider health check, voice enabled race condition, and port configuration. Files: preload/index.ts, main/index.ts, lmstudio-integration.t...  [worklog: pending] (created: 2026-01-25 23:19) (completed: 2026-01-25 23:21) @agent
- [x] T069: Convert the static "CLI PROXY" connection indicator into a dropdown that allows switching between providers (CLI Proxy, LM Studio, Gateway Auto, Claude API). Create ProviderSelector component simil...  [worklog: pending] (created: 2026-01-25 23:07) (completed: 2026-01-25 23:08) @agent
- [x] T068: Bug: Model selector shows Haiku but LLM identifies as Sonnet. Root cause: ToolLoop hardcodes model="" in LLMConfig. Fix: Add model parameter to ToolLoop.run() and pass it to LLMConfig.  [worklog: pending] (created: 2026-01-25 22:43) (completed: 2026-01-25 22:45) @agent
- [x] T067: Polish the Insights chat interface: 1. Make sidebar collapsible with smooth animation 2. Hide "Direct ON" button (keep code, just hide) 3. Enhanced connection indicator showing model, provider, lat...  [worklog: pending] (created: 2026-01-25 22:36) (completed: 2026-01-25 22:38) @agent
- [x] T066: Restore the Roadmap feature deleted in commit f28e8ca by recovering 3 files from commit 248b890 and adding a Roadmap tab to Dojo.tsx. Files to restore: Roadmap.tsx, roadmap-store.ts, roadmap.ts typ...  [worklog: pending] (created: 2026-01-25 22:36) (completed: 2026-01-25 22:38) @agent
- [x] T065: Redesign the Tray Companion UI to be provider-agnostic instead of LMStudio-focused. Rename all "devstral" references to "voice" and update UI labels while preserving the existing Kuroryuu shrine/dr...  [worklog: pending] (created: 2026-01-25 22:18) (completed: 2026-01-25 22:24) @agent
- [x] T064: Fixed Command Center Servers tab health checks: - CLIProxyAPI: Changed from IPC Docker check to direct HTTP health check on port 8317 - Clawdbot: Changed from IPC status check to direct HTTP health...  [worklog: pending] (created: 2026-01-25 21:28) (completed: 2026-01-25 21:28) @agent
- [x] T063: Update the Insights chat component to use dynamic models from domain config instead of hardcoded 7-model list. Changes: 1. Update types/insights.ts - change InsightsModel to string 2. Update Insigh...  [worklog: pending] (created: 2026-01-25 21:23) (completed: 2026-01-25 21:25) @agent
- [x] T062: Add health checks for CLI Proxy (port 8317) and Gateway (port 8200) to the Tray Companion so provider dots accurately reflect their status.  [worklog: pending] (created: 2026-01-25 21:03) (completed: 2026-01-25 21:04) @agent
- [x] T061: Expand width from 550px to 750px, create two-column grid layout with grouped sections: API Keys | Source Control, Local Services (CLI Proxy + Clawdbot), Optional (CLI Bootstrap + Graphiti)  [worklog: pending] (created: 2026-01-25 21:01) (completed: 2026-01-25 21:07) @agent
- [x] T060: Flip the narrative: CLIProxyAPI is primary, LMStudio is optional. Replace warning banner with success banner, update fallback info to optional section.  [worklog: pending] (created: 2026-01-25 20:55) (completed: 2026-01-25 20:56) @agent
- [x] T059: Systematically verify all 14 LLM generation domains in Kuroryuu Desktop are working correctly with their configured providers. Test PRD Generation, Changelog, Ideation, Roadmap, Spec Phase, Plannin...  [worklog: pending] (created: 2026-01-25 20:46) (completed: 2026-01-25 20:50) @agent
- [x] T058: Expand getStaticCLIProxyModels() in model-registry.ts with full provider list including GPT-5, Gemini 3, Copilot, Kiro, etc. Also update ModelFamily types in domain-config.ts.  [worklog: pending] (created: 2026-01-25 20:44) (completed: 2026-01-25 20:46) @agent
- [x] T057: Remove duplicate Anthropic/OpenAI API key inputs from ClawdbotProvidersConfig. Instead, check if keys are configured in main Integrations and reuse them.  Changes: 1. Add state to track main integr...  [worklog: pending] (created: 2026-01-25 20:32) (completed: 2026-01-25 20:36) @agent
- [x] T056: Add two missing servers to the Command Center Server Health panel: 1. CLIProxyAPI (port 8317) - Docker-based, uses docker-compose 2. Clawdbot (port 18790) - Docker-based, opt-in service  Implementa...  [worklog: pending] (created: 2026-01-25 20:23) (completed: 2026-01-25 20:25) @agent
- [x] T055: Add IPC handlers to clawdbot-service.ts for: getProviderConfig, setProviderConfig, testProvider. Also add auto-start logic for container on app launch if enabled.  [worklog: pending] (created: 2026-01-25 19:46) (completed: 2026-01-25 19:48) @agent
- [x] T054: Expose window.__ZUSTAND_STORE__ and window.__MOCK_ELECTRON_API__ when E2E_TEST_MODE=true so Playwright tests can interact with app state  [worklog: pending] (created: 2026-01-25 18:31) (completed: 2026-01-25 18:51) @agent
- [x] T053: Add microsoft/playwright-mcp server entry to .mcp.json for browser automation capabilities  [worklog: pending] (created: 2026-01-25 18:20) (completed: 2026-01-25 18:25) @agent
- [x] T052: Fix three bugs: 1. CLIProxyAPIBackend._model → default_model attribute mismatch (lines 75, 82, 104) 2. CLIProxyWizard Dialog.Content missing z-50 (line 485) 3. Add debug logging to Insights.tsx for...  [worklog: pending] (created: 2026-01-25 18:14) (completed: 2026-01-25 18:15) @agent
- [x] T051: Add a Clawdbot section to the IntegrationsDialog in Kuroryuu Desktop. Should include: enable toggle, container status indicator, start/stop buttons, and link to clawdbot configuration.  [worklog: pending] (created: 2026-01-25 18:11) (completed: 2026-01-25 18:16) @agent
- [x] T050: Create the k_clawd MCP tool that allows Kuroryuu to communicate with the Clawdbot Docker container as an autonomous worker. Actions: help, status, start, stop, task, cancel, results, inbox, reply, ...  [worklog: pending] (created: 2026-01-25 18:04) (completed: 2026-01-25 18:09) @agent
- [x] T049: Add debug logging to Insights.tsx to trace why requests go to LMStudio instead of CLI Proxy when CLI Proxy is selected in Domain Config. Check domainConfig.provider value being sent.  [worklog: pending] (created: 2026-01-25 17:17) (completed: 2026-01-25 17:27) @agent
- [x] T048: Multi-step wizard: Docker check, Container setup, Gemini/Claude/OpenAI OAuth, Verification  [worklog: pending] (created: 2026-01-25 16:56) (completed: 2026-01-25 16:59) @agent
- [x] T047: Fix model-registry.ts:217-223 to use /v1/models with Bearer auth instead of /health which returns 404  [worklog: pending] (created: 2026-01-25 16:56) (completed: 2026-01-25 16:56) @agent
- [x] T046: Step 1: Update domain-config.ts to: 1. Add 'deepseek' to ModelFamily type 2. Add deepseek detection in getModelFamily() 3. Add DeepSeek label to MODEL_FAMILY_LABELS 4. Add FAMILY_SORT_ORDER constan...  [worklog: pending] (created: 2026-01-25 15:57) (completed: 2026-01-25 15:59) @agent
- [x] T045: Add inline grouping functions and update model dropdown in DevstralControls.tsx to use optgroup for consistent family-based organization  [worklog: pending] (created: 2026-01-25 15:49) (completed: 2026-01-25 16:01) @agent
- [x] T044: Replace flat select in ModelConfigDialog's PhaseModelCard with GroupedModelSelect component for consistent grouped display across all dialogs  [worklog: pending] (created: 2026-01-25 15:46) (completed: 2026-01-25 17:05) @agent
- [x] T043: Update AVAILABLE_MODELS in types/settings.ts to include all providers: add Gemini (4 models) and Qwen (2 models) alongside existing Claude and OpenAI  [worklog: pending] (created: 2026-01-25 15:46) (completed: 2026-01-25 17:05) @agent
- [x] T042: Add export for GroupedModelSelect in components/settings/index.ts  [worklog: pending] (created: 2026-01-25 15:42) (completed: 2026-01-25 17:05) @agent
- [x] T041: Update apps/desktop/src/renderer/services/model-registry.ts to include ALL known models in fallback: Claude, GPT-4o, o1-preview, Gemini, Qwen.  [worklog: pending] (created: 2026-01-25 15:27) (completed: 2026-01-25 15:28) @agent
- [x] T040: Update Tray Companion to dynamically fetch models from CLIProxyAPI (/v1/models) when that provider is selected. CLIProxyAPI supports many models including Claude, OpenAI (GPT-4o, o1), Gemini, etc. ...  [worklog: pending] (created: 2026-01-25 15:08) (completed: 2026-01-25 17:06) @agent
- [x] T039: Create apps/tray_companion/src/main/domain-config-reader.ts with file reading, watching, and event emission for config changes.  [worklog: pending] (created: 2026-01-25 14:56) (completed: 2026-01-25 14:59) @agent
- [x] T038: Update prd-store.ts, ideation-store.ts, changelog-store.ts, lmstudio-chat-store.ts, insights-store.ts, and settings-store.ts to read from domain-config-store  [worklog: pending] (created: 2026-01-25 14:14) (completed: 2026-01-25 14:23) @agent
- [x] T037: Create stores/domain-config-store.ts as central Zustand store for all 14 domain configurations with persistence  [worklog: pending] (created: 2026-01-25 14:14) (completed: 2026-01-25 14:17) @agent
- [x] T036: Delete duplicate retrospective sections: Days 13-14 Graphiti, Days 15-16 Code Editor, Day 15 Tray, Day 16 OAuth, Day 16 Modals, Days 17-18 Final Polish  [worklog: pending] (created: 2026-01-25 14:10) (completed: 2026-01-25 14:13) @agent
- [x] T035: Update apps/gateway/changelog/router.py to use get_healthy_backend() from the registry for fallback support  [worklog: pending] (created: 2026-01-25 14:03) (completed: 2026-01-25 14:04) @agent
- [x] T034: Update apps/desktop/src/renderer/stores/prd-store.ts to query the active backend and set author dynamically (Claude CLI vs LMStudio)  [worklog: pending] (created: 2026-01-25 14:03) (completed: 2026-01-25 14:04) @agent
- [x] T033: Add comprehensive Day 20 entry with 9 major achievements: terminal fixes, task hooks, k_interact removal, k_capture rename, checkpoints panel, cross-reference rules, dialog system, welcome encyclop...  [worklog: pending] (created: 2026-01-25 14:00) (completed: 2026-01-25 14:03) @agent
- [x] T032: Update LMStudioSection.tsx to: 1. Add Zap icon to imports 2. Add blue info banner about CLIProxyAPI fallback after the warning banner 3. Update skip option text to mention fallback  [worklog: pending] (created: 2026-01-25 13:51) (completed: 2026-01-25 13:52) @agent
- [x] T031: Update desktop GUI components to reflect the new CLIProxyAPI fallback backend: 1. StatusBar - Show active backend with color coding (≡ƒƒó LMStudio, ≡ƒö╡ CLIProxyAPI, ≡ƒƒí Claude, ≡ƒö┤ Offline) 2. S...  [worklog: pending] (created: 2026-01-25 13:51) (completed: 2026-01-25 13:56) @agent
- [x] T030: Update apps/kuroryuu_cli/config.py and providers/lmstudio_provider.py to add cliproxy_url and fallback chain  [worklog: pending] (created: 2026-01-25 13:43) (completed: 2026-01-25 13:46) @agent
- [x] T029: Update apps/desktop/.../lmstudio-chat-store.ts and LMStudioPanel.tsx to support fallback  [worklog: pending] (created: 2026-01-25 13:43) (completed: 2026-01-25 17:06) @agent
- [x] T028: Modify apps/gateway/llm/backends/registry.py to add circuit breaker pattern with get_healthy_backend() function. Add BackendState dataclass, FAILURE_THRESHOLD, COOLDOWN_SECONDS, health cache with TTL.  [worklog: pending] (created: 2026-01-25 13:33) (completed: 2026-01-25 13:36) @agent
- [x] T027: Create tools/cliproxyapi/README.md and tools/cliproxyapi/config.yaml with setup instructions for CLIProxyAPI (Go binary from https://github.com/router-for-me/CLIProxyAPI). Port 8317 default.  [worklog: pending] (created: 2026-01-25 13:33) (completed: 2026-01-25 13:34) @agent
- [x] T026: Phase 5 of PRD workflow implementation - set up Playwright E2E testing infrastructure.  Phases: - 5.1: Install dependencies ( playwright-core) - 5.2: Create playwright.config.ts - ...  [worklog: pending] (created: 2026-01-25 13:14) (completed: 2026-01-25 13:20) @playwright/test,
- [x] T025: Major refactor of WorkerSetupWizard.tsx: - Remove tabs, replace with progressive disclosure flow - Provider selection ΓåÆ Role selection (Claude only) ΓåÆ Subtype selection ΓåÆ Config - Auto-popula...  [worklog: pending] (created: 2026-01-25 12:50) (completed: 2026-01-25 12:54) @agent
- [x] T024: Implement the full PRD workflow button execution: 1. Add WORKFLOW_PROMPT_MAP with Quizmaster + Specialist paths 2. Update handleExecute() to spawn PTY correctly 3. Add executingWorkflows state to p...  [worklog: pending] (created: 2026-01-25 12:47) (completed: 2026-01-25 12:56) @agent
- [x] T023: The PreCompact hook in .claude/settings.json has two bugs: 1. Timeout is 30 (milliseconds) - way too short, causing checkpoint saves to fail/timeout 2. Checkpoint data only saves {"trigger": "preco...  [worklog: pending] (created: 2026-01-25 11:40) (completed: 2026-01-25 11:40) @agent
- [x] T022: Transform Sub-agent Export from basic templates to AI-powered prompt generation: 1. Gateway: New enhancement prompt with real tool docs in router.py 2. Desktop: LMStudio URL field, preview in Agent...  [worklog: pending] (created: 2026-01-25 11:37) (completed: 2026-01-25 11:42) @agent
- [x] T021: Fix WebSocket connection showing "CONNECTED" when not actually connected: 1. Add connection verification with retry after onopen fires 2. Add periodic state sync to detect stale connections 3. Add ...  [worklog: pending] (created: 2026-01-25 11:14) (completed: 2026-01-25 11:16) @agent
- [x] T020: Use numeric timestamp comparison instead of creating new Date objects per event. Location: traffic-store.ts:83-88  [worklog: pending] (created: 2026-01-25 10:56) (completed: 2026-01-25 10:57) @agent
- [x] T019: Replace composite key with index that causes remounts with stable unique ID. Location: PTYTrafficPanel.tsx:142-144  [worklog: pending] (created: 2026-01-25 10:56) (completed: 2026-01-25 17:08) @agent
- [x] T018: Perform meta-level analysis of the Recharts→ECharts migration implementation (T016). Analyze divergences between plan and execution, classify them, trace root causes, and generate improvement sugge...  [worklog: pending] (created: 2026-01-25 10:29) (completed: 2026-01-25 10:31) @agent
- [x] T017: Add 9 missing features to FeaturesSection.tsx and update TraySection.tsx with accurate content. Before: 6 features, After: 15 features covering all sidebar capabilities.  [worklog: pending] (created: 2026-01-24 22:49) (completed: 2026-01-24 22:57) @agent
- [x] T016: Replace Recharts with ECharts in EndpointDetailDrawer.tsx: 1. Install echarts + echarts-for-react 2. Migrate latency sparkline (AreaChart → ECharts line) 3. Migrate status donut (PieChart → ECharts...  [checkpoint: cp_20260124_220954_c4cc1a0a] [worklog: Docs/worklogs/KiroWorkLog_20260124_220700_RechartsToEChartsMigration.md] (created: 2026-01-24 22:05) (completed: 2026-01-24 22:07) @agent
- [x] T015: Verify and complete Phase 2 content population for Home Screen Encyclopedia:  **Verification Checklist:** - [x] All 5 tour slides have complete content (hotspot-data.json) - [x] LMStudio wizard has...  [worklog: pending] (created: 2026-01-24 21:52) (completed: 2026-01-24 21:53) @agent
- [x] T014: Implement the interactive framework for Home Screen Encyclopedia redesign: - Create component structure (WelcomeHub, WelcomeNav, GuidedTour, sections, hotspots, architecture, video) - Build hotspot...  [worklog: pending] (created: 2026-01-24 21:37) (completed: 2026-01-24 21:49) @agent
- [x] T013: Modify KuroryuuDialog.tsx to respect the enableAnimations app setting. When disabled: no fog entrance, no pulse, no mist particles. Dialogs should appear/disappear instantly.  [worklog: pending] (created: 2026-01-24 20:26) (completed: 2026-01-24 20:26) @agent
- [x] T012: Add max-height constraint and scrollable content area to InitializeProjectDialog.tsx to prevent the dialog from being cut off on smaller screens. Four CSS class additions following the established ...  [worklog: pending] (created: 2026-01-24 20:19) (completed: 2026-01-24 20:20) @agent
- [x] T011: Implement a unified dialog system replacing all window.confirm() calls and Electron native dialogs with themed modals featuring fog entrance animations, golden dragon frames, and mystical particle ...  [worklog: pending] (created: 2026-01-24 20:11) (completed: 2026-01-24 20:20) @agent
- [x] T010: Update 18 files to establish mandatory cross-referencing between checkpoints, plan files, and worklogs. Priority order: Core docs (3), Commands/Skills (6), Agent Commands (6), Prompt Templates (2).  [worklog: pending] (created: 2026-01-24 20:01) (completed: 2026-01-24 20:07) @agent
- [x] T009: Implement the complete Checkpoints Panel feature including: 1. Fix preload IPC bindings for k_checkpoint 2. Create/update Zustand store 3. Create CheckpointCard, CheckpointDetailPanel, CheckpointsP...  [worklog: pending] (created: 2026-01-24 19:59) (completed: 2026-01-24 20:00) @agent
- [x] T008: When Graphiti is disabled in Integrations, display a Checkpoints panel instead of "AI Memory Disabled" placeholder. Design aesthetic: Dark luxury meets terminal - a dragon's hoard of crystallized s...  [worklog: pending] (created: 2026-01-24 19:26) (completed: 2026-01-24 19:31) @agent
- [x] T007: Create Pinokio-style 1-click installer for hackathon judges: 1. Create packaging/kuroryuu-install.ps1 - Main bootstrap installer script 2. Create packaging/Start-Kuroryuu.ps1 - Combined service + a...  [worklog: pending] (created: 2026-01-24 19:14) (completed: 2026-01-24 19:18) @agent
- [x] T006: 1. Change publish provider to GitHub in package.json 2. Wire up the ui.checkUpdatesOnStartup setting in updater.ts  [worklog: pending] (created: 2026-01-24 18:43) (completed: 2026-01-24 18:44) @agent
- [x] T005: Rename the sots_capture MCP tool to k_capture to follow the k_* naming convention, and move capture-related files from WORKING/ to ai/capture/. This involves: 1. Moving files from WORKING/ to ai/ca...  [worklog: pending] (created: 2026-01-24 18:20) (completed: 2026-01-24 18:30) @agent
- [x] T004: Remove "Reset All Settings" and standalone "Reset Agents" from AppSettingsDialog, keep only "Full App Reset" button. Add "Reset Agents Only" quick action to FullResetDialog.  [worklog: pending] (created: 2026-01-24 17:58) (completed: 2026-01-24 18:00) @agent
- [x] T003: Phase 7: Update k-mcptoolsearch.md, SKILL.md, orchestration-patterns.md, tool-patterns.md  [worklog: pending] (created: 2026-01-24 17:54) (completed: 2026-01-24 17:59) @agent
- [x] T002: Externalize hardcoded credentials and settings from Gateway into proper configuration with environment variable support. Includes: config.py dataclass, .env.example, updating server.py, mcp clients...  [worklog: pending] (created: 2026-01-24 16:09) (completed: 2026-01-24 16:19) @agent
- [x] T001: Fix reset terminal crash (error -1073741510) by adding restartCount to TerminalInstance and including it in Terminal key. Remove redundant Shield icon since Brain is the unified launcher.  [worklog: pending] (created: 2026-01-24 08:29) (completed: 2026-01-24 08:33) @agent
